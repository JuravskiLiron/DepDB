@{
    ViewData["Title"] = "Dashboard";
}
<div class="card p-4 shadow-lg mb-4">
    <h2><i class="fa-solid fa-shield-halved text-primary"></i> Officer Dashboard</h2>
</div>
<h2 class="mb-3">Welcome, @User.Identity!.Name</h2>

<div class="p-3 rounded" style="background:#0f172a; color:white;">
    <p>Your MDT is ready.</p>
</div>
<div class="card bg-dark text-white mb-4 p-3 shadow">
    <h4>Duty Status</h4>

    <form method="post" action="/Duty/Toggle">
        @if (Model.User.IsOnDuty)
        {
            <button class="btn btn-danger btn-lg w-100 mt-2">
                Go OFF Duty
            </button>
        }
        else
        {
            <button class="btn btn-success btn-lg w-100 mt-2">
                Go ON Duty
            </button>
        }
    </form>

    <small class="text-secondary">
        Last change: @Model.User.LastDutyChange
    </small>
</div>
<div class="card p-3 shadow mb-4">
    <h4><i class="fa-solid fa-car text-warning"></i> Recent Vehicle Checks</h4>
    <table class="table table-dark table-striped">
        <thead>
        <tr>
            <th>Action</th>
            <th>Target</th>
            <th>Time</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var log in Model.LastChecks)
        {
            <tr>
                <td>@log.Action</td>
                <td>@log.TargetId</td>
                <td>@log.CreatedAtUtc.ToLocalTime()</td>
            </tr>
        }
        </tbody>
    </table>
</div>
